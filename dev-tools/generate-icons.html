<!DOCTYPE html>
<html>
<head>
  <title>Generate Extension Icons</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-bottom: 20px;
    }
    .preview {
      display: flex;
      gap: 30px;
      margin: 30px 0;
      align-items: center;
    }
    .icon-preview {
      text-align: center;
    }
    .icon-preview canvas {
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .icon-preview p {
      margin-top: 10px;
      font-size: 14px;
      color: #666;
    }
    button {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
    }
    button:hover {
      background: #45a049;
    }
    .instructions {
      background: #e8f5e9;
      padding: 15px;
      border-radius: 4px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ServiceNow Time Entry Assistant - Icon Generator</h1>

    <div class="preview">
      <div class="icon-preview">
        <canvas id="icon16" width="16" height="16"></canvas>
        <p>16x16</p>
      </div>
      <div class="icon-preview">
        <canvas id="icon48" width="48" height="48"></canvas>
        <p>48x48</p>
      </div>
      <div class="icon-preview">
        <canvas id="icon128" width="128" height="128"></canvas>
        <p>128x128</p>
      </div>
    </div>

    <div>
      <button onclick="downloadIcon('icon16', 'icon16.png')">Download 16x16</button>
      <button onclick="downloadIcon('icon48', 'icon48.png')">Download 48x48</button>
      <button onclick="downloadIcon('icon128', 'icon128.png')">Download 128x128</button>
      <button onclick="downloadAll()" style="background: #2196F3;">Download All</button>
    </div>

    <div class="instructions">
      <strong>Instructions:</strong>
      <ol>
        <li>Click "Download All" to download all three icon sizes</li>
        <li>Move the downloaded PNG files to your extension directory</li>
        <li>The manifest.json will be automatically updated</li>
      </ol>
    </div>
  </div>

  <script>
    // Draw icon on canvas with given size
    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const center = size / 2;
      const padding = size * 0.1;
      const clockRadius = (size - padding * 2) / 2;

      // Clear canvas
      ctx.clearRect(0, 0, size, size);

      // Background circle
      ctx.fillStyle = '#00A1D6'; // ServiceNow blue/teal
      ctx.beginPath();
      ctx.arc(center, center, clockRadius, 0, 2 * Math.PI);
      ctx.fill();

      // Clock face (white circle)
      ctx.fillStyle = 'white';
      ctx.beginPath();
      ctx.arc(center, center, clockRadius * 0.85, 0, 2 * Math.PI);
      ctx.fill();

      // Clock center dot
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(center, center, clockRadius * 0.08, 0, 2 * Math.PI);
      ctx.fill();

      // Clock hands
      ctx.strokeStyle = '#333';
      ctx.lineCap = 'round';

      // Hour hand (pointing to 10 o'clock)
      ctx.lineWidth = size * 0.06;
      ctx.beginPath();
      ctx.moveTo(center, center);
      const hourAngle = (10 / 12) * 2 * Math.PI - Math.PI / 2;
      ctx.lineTo(
        center + Math.cos(hourAngle) * clockRadius * 0.4,
        center + Math.sin(hourAngle) * clockRadius * 0.4
      );
      ctx.stroke();

      // Minute hand (pointing to 2 o'clock / 10 minutes)
      ctx.lineWidth = size * 0.04;
      ctx.beginPath();
      ctx.moveTo(center, center);
      const minuteAngle = (10 / 60) * 2 * Math.PI - Math.PI / 2;
      ctx.lineTo(
        center + Math.cos(minuteAngle) * clockRadius * 0.6,
        center + Math.sin(minuteAngle) * clockRadius * 0.6
      );
      ctx.stroke();

      // Draw hour markers (12, 3, 6, 9)
      ctx.fillStyle = '#666';
      [0, 3, 6, 9].forEach(hour => {
        const angle = (hour / 12) * 2 * Math.PI - Math.PI / 2;
        const markerSize = size * 0.03;
        const distance = clockRadius * 0.7;
        ctx.fillRect(
          center + Math.cos(angle) * distance - markerSize / 2,
          center + Math.sin(angle) * distance - markerSize / 2,
          markerSize,
          markerSize
        );
      });
    }

    // Initialize icons
    drawIcon(document.getElementById('icon16'), 16);
    drawIcon(document.getElementById('icon48'), 48);
    drawIcon(document.getElementById('icon128'), 128);

    // Download single icon
    function downloadIcon(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Download all icons
    function downloadAll() {
      setTimeout(() => downloadIcon('icon16', 'icon16.png'), 0);
      setTimeout(() => downloadIcon('icon48', 'icon48.png'), 200);
      setTimeout(() => downloadIcon('icon128', 'icon128.png'), 400);
    }
  </script>
</body>
</html>
